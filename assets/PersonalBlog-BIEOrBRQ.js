import{u as j,r as o,A as b,j as e,H as f,L as x,b as v}from"./index-7DfaYbEJ.js";import{a as N}from"./index-B9ygI19o.js";const h="/images/default-cover.jpg",i=6;function P(){console.log("PersonalBlog render");const u=j(),r=Number(new URLSearchParams(u.search).get("page"))||1,[a,c]=o.useState([]),[n,d]=o.useState(!0);o.useEffect(()=>{d(!0),N.get(`${b}/posts`).then(s=>{c(Array.isArray(s.data)?s.data:[])}).catch(()=>c([])).finally(()=>d(!1))},[]);const g=Math.ceil(a.length/i),m=(r-1)*i,p=a.slice(m,m+i);return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx("title",{children:"Personal Blog"}),e.jsx("meta",{name:"description",content:"Articole personale despre design, dezvoltare web și experiență profesională."})]}),e.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-10",children:"Personal Blog"}),n&&e.jsx("p",{className:"opacity-60",children:"Se încarcă articolele…"}),!n&&p.length===0&&e.jsx("p",{className:"opacity-60",children:"Nu există articole."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(s=>e.jsxs(x,{to:`/personal/${s.slug}`,state:{article:s,allArticles:a,page:r},className:"group rounded-2xl overflow-hidden bg-zinc-900 border border-zinc-800 hover:border-violet-400 transition",children:[e.jsxs("div",{className:"relative h-52 overflow-hidden",children:[e.jsx("img",{src:v(s.cover,h),alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy",onError:l=>l.currentTarget.src=h}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-lg font-semibold leading-snug mb-2",children:s.title}),s.subtitle&&e.jsx("p",{className:"text-sm opacity-70 line-clamp-3",children:s.subtitle})]})]},s.slug))}),g>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:g}).map((s,l)=>{const t=l+1;return e.jsx(x,{to:`/personal?page=${t}`,className:`px-3 py-1 rounded text-sm ${t===r?"bg-violet-600 text-white":"border border-zinc-700 hover:bg-zinc-800"}`,children:t},t)})})]})]})}export{P as default};
