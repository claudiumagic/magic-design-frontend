import{r as n,j as R}from"./index-7DfaYbEJ.js";const L=16,S=.014,b=.45;function k(){const x=n.useRef([]),m=n.useRef(0),[o,y]=n.useState(!1);n.useEffect(()=>{const e=()=>{m.current=Math.min(window.scrollY/600,1),y(!0)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),n.useEffect(()=>{const e=requestAnimationFrame(()=>{y(!0)});return()=>cancelAnimationFrame(e)},[]),n.useEffect(()=>{if(!o)return;let e;const r=document.querySelector(".layout-root")||document.body,s=Math.max(r.scrollHeight,window.innerHeight),E=x.current.map(a=>({...a,vx:(Math.random()-.5)*S,vy:(Math.random()-.5)*S})),w=()=>{const a=1-m.current*b;E.forEach((t,H)=>{t.x+=t.vx*a,t.y+=t.vy*a,t.vx+=(Math.random()-.5)*5e-4,t.vy+=(Math.random()-.5)*5e-4,t.vx=Math.max(-.035,Math.min(.035,t.vx)),t.vy=Math.max(-.035,Math.min(.035,t.vy)),E.forEach((c,q)=>{if(H===q)return;const l=t.x-c.x,u=t.y-c.y,i=Math.sqrt(l*l+u*u),g=t.r+c.r+L;if(i<g&&i>0){const A=(g-i)/i*.015;t.x+=l*A,t.y+=u*A}}),t.x<-300&&(t.x=1900),t.x>1900&&(t.x=-300),t.y<-300&&(t.y=s+300),t.y>s+300&&(t.y=-300),t.el.setAttribute("cx",t.x),t.el.setAttribute("cy",t.y)}),e=requestAnimationFrame(w)};return w(),()=>cancelAnimationFrame(e)},[o]);const d=document.querySelector(".layout-root")?.scrollHeight||window.innerHeight,f=[],h=o?6:4,v=o?8:5,M=1600/h,p=d/v;for(let e=0;e<v;e++)for(let r=0;r<h;r++)f.push({x:r*M+M/2,y:e*p+p/2,r:90+Math.random()*160});return R.jsx("svg",{className:"bg-circles",viewBox:`0 0 1600 ${d}`,preserveAspectRatio:"xMidYMid slice","aria-hidden":"true",children:f.map((e,r)=>R.jsx("circle",{ref:s=>x.current[r]={el:s,x:e.x,y:e.y,r:e.r},cx:e.x,cy:e.y,r:e.r,fill:"none",stroke:"var(--circle-stroke)",strokeWidth:"1",opacity:"0.12"},r))})}export{k as default};
