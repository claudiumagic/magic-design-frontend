import{j as e,u as b,r as n,a as N,A as w,b as p,H as S,L as f}from"./index-7DfaYbEJ.js";import{a as A}from"./index-B9ygI19o.js";import{R as E}from"./RatingStars-DqI9rlye.js";function R(){return e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(i,{priority:!0}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{})]})}function i({priority:l}){return e.jsxs("article",{className:"rounded-2xl overflow-hidden border animate-pulse",children:[e.jsx("div",{className:`bg-gray-300 ${l?"h-72":"h-56"}`}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-5 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}const _={pageSection:`
    mx-auto
    max-w-7xl
    2xl:max-w-[1600px]
    px-6 py-10
    rounded-3xl
    shadow-[0_0_0_1px_rgba(255,250,222,0.06)]
  `};function k(){const{pathname:l,search:r}=b();n.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[l,r])}const x="/images/default-cover.jpg",m=6;function P(){k();const[l,r]=n.useState([]),[j,y]=n.useState(!0),[v]=N(),o=Number(v.get("page"))||1;if(n.useEffect(()=>{let s=!1;return A.get(`${w}/rss`).then(a=>{const t=a.data;Array.isArray(t)?s||r(t):Array.isArray(t?.items)?s||r(t.items):(console.error("❌ RSS invalid:",t),s||r([]))}).catch(a=>{console.error("❌ RSS error:",a),s||r([])}).finally(()=>{s||y(!1)}),()=>{s=!0}},[]),j)return e.jsx("section",{className:_.pageSection,children:e.jsx(R,{})});const g=(o-1)*m,c=l.slice(g,g+m),h=Math.ceil(l.length/m),d=s=>Number(localStorage.getItem(`rating-${s}`))||0,u=c.length>0?p(c[0].cover,x):null;return e.jsxs(e.Fragment,{children:[e.jsxs(S,{htmlAttributes:{lang:"en"},children:[e.jsx("link",{rel:"preconnect",href:"https://files.smashing.media"}),e.jsx("link",{rel:"dns-prefetch",href:"https://files.smashing.media"}),u&&e.jsx("link",{rel:"preload",as:"image",href:u,fetchpriority:"high"}),e.jsx("title",{children:"UI / UX Blog – Inspirație & Resurse"}),e.jsx("meta",{name:"description",content:"Articole UI/UX, design web și frontend."}),e.jsx("link",{rel:"canonical",href:`${window.location.origin}/?page=${o}`})]}),e.jsxs("section",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-10 text-center",children:"UI / UX Blog"}),e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:c.map((s,a)=>e.jsx(f,{to:`/article/${s.slug}`,state:{article:s,allArticles:l},children:e.jsxs("article",{className:`\r
                  relative flex flex-col h-full\r
                  rounded-2xl overflow-hidden\r
                  border bg-white\r
                  transition hover:-translate-y-1 hover:shadow-xl\r
                `,children:[s.external&&e.jsx("span",{className:"absolute top-3 left-3 text-xs bg-black/70 text-white px-2 py-0.5 rounded",children:"EXTERN"}),e.jsx("img",{src:p(s.cover,x),alt:s.title,className:"h-48 w-full object-cover",loading:a===0?"eager":"lazy",decoding:"async",fetchpriority:a===0?"high":"auto",onError:t=>t.currentTarget.src=x}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsx("h2",{className:"font-semibold mb-3",children:s.title}),e.jsx("p",{className:"text-sm opacity-80 line-clamp-3 mb-4",children:s.excerpt}),e.jsxs("div",{className:"mt-auto min-h-[32px]",children:[e.jsx(E,{value:d(s.slug),readOnly:!0,size:"text-sm",className:d(s.slug)===0?"opacity-30":""}),d(s.slug)===0&&e.jsx("p",{className:"text-[11px] opacity-40 mt-1",children:"Articol încă neevaluat"})]})]})]})},s.slug))}),h>1&&e.jsx("nav",{className:"mt-16 flex justify-center gap-4",children:Array.from({length:h}).map((s,a)=>{const t=a+1;return e.jsx(f,{to:`/?page=${t}`,className:`
                    w-10 h-10 flex items-center justify-center
                    transition hover:-translate-y-1
                    ${t===o?"font-bold text-violet-700 underline":"opacity-60"}
                  `,children:t},t)})})]})]})}export{P as default};
